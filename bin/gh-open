#!/usr/bin/env bash

open="xdg-open"

if [[ -n "$1" ]]; then
  "$open" "https://github.com/$USER/$1"
else
  orgn=$( git remote get-url origin 2>/dev/null )
  if [[ $orgn =~ http ]]; then
    "$open" "$orgn"
  elif [[ -n $orgn ]]; then
    repo=$( cut -d':' -f2 <<< "$orgn" )
    "$open" "https://github.com/$repo"
  else
    printf " Not in a git repository!\n Usage: %s [repository name]" "$(basename "$0")"
  fi
fi
